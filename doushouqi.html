<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" >
        
        <style>
            * { font-family: 'Space Grotesk', monospace; }
            :root { margin: 0; padding: 0; box-sizing: border-box; }
            h1, p { text-align: center; }
            table { border-collapse: collapse; cursor: pointer;}
            td { background-color: palegreen; }
            .lago { background-color: aqua; }
            .armadilha { background-color: gold; }
            .toca { background-color: lightsalmon; }
            .vermelha { background-color: orangered; }
            .azul { background-color: deepskyblue; }
            .quadrante { width: 50px; height: 50px; }
            .peca {
                width: 30px;
                height: 30px;
                margin: 0 auto;
                border-radius: 50%;
                border: 1px solid transparent;
                display: flex;
                font-weight: bold;
                align-items: center;
                justify-content: center;
            }
        </style>
        
    </head>
    
    <body>
        <h1>Dou Shou Qi</h1>
        <p>Regras â€¢ Jogar</p>
        
        <table border='4' align='center'>
          <tr>
            <td id="A1" class="quadrante"></td>
            <td id="B1" class="quadrante"></td>
            <td id="C1" class="quadrante armadilha"></td>
            <td id="D1" class="quadrante toca"></td>
            <td id="E1" class="quadrante armadilha"></td>
            <td id="F1" class="quadrante"></td>
            <td id="G1" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A2" class="quadrante"></td>
            <td id="B2" class="quadrante"></td>
            <td id="C2" class="quadrante"></td>
            <td id="D2" class="quadrante armadilha"></td>
            <td id="E2" class="quadrante"></td>
            <td id="F2" class="quadrante"></td>
            <td id="G2" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A3" class="quadrante"></td>
            <td id="B3" class="quadrante"></td>
            <td id="C3" class="quadrante"></td>
            <td id="D3" class="quadrante"></td>
            <td id="E3" class="quadrante"></td>
            <td id="F3" class="quadrante"></td>
            <td id="G3" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A4" class="quadrante"></td>
            <td id="B4" class="quadrante lago"></td>
            <td id="C4" class="quadrante lago"></td>
            <td id="D4" class="quadrante"></td>
            <td id="E4" class="quadrante lago"></td>
            <td id="F4" class="quadrante lago"></td>
            <td id="G4" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A5" class="quadrante"></td>
            <td id="B5" class="quadrante lago"></td>
            <td id="C5" class="quadrante lago"></td>
            <td id="D5" class="quadrante"></td>
            <td id="E5" class="quadrante lago"></td>
            <td id="F5" class="quadrante lago"></td>
            <td id="G5" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A6" class="quadrante"></td>
            <td id="B6" class="quadrante lago"></td>
            <td id="C6" class="quadrante lago"></td>
            <td id="D6" class="quadrante"></td>
            <td id="E6" class="quadrante lago"></td>
            <td id="F6" class="quadrante lago"></td>
            <td id="G6" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A7" class="quadrante"></td>
            <td id="B7" class="quadrante"></td>
            <td id="C7" class="quadrante"></td>
            <td id="D7" class="quadrante"></td>
            <td id="E7" class="quadrante"></td>
            <td id="F7" class="quadrante"></td>
            <td id="G7" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A8" class="quadrante"></td>
            <td id="B8" class="quadrante"></td>
            <td id="C8" class="quadrante"></td>
            <td id="D8" class="quadrante armadilha"></td>
            <td id="E8" class="quadrante"></td>
            <td id="F8" class="quadrante"></td>
            <td id="G8" class="quadrante"></td>
          </tr>
          <tr>
            <td id="A9" class="quadrante"></td>
            <td id="B9" class="quadrante"></td>
            <td id="C9" class="quadrante armadilha"></td>
            <td id="D9" class="quadrante toca"></td>
            <td id="E9" class="quadrante armadilha"></td>
            <td id="F9" class="quadrante"></td>
            <td id="G9" class="quadrante"></td>
          </tr>
        </table>
        
        <script>            
            let clickCheck = 0;
            let clickDe = "XX";
            let clickPara = "YY";
            
            const posicoesIniciais = {
                "A1": { animal: "leao", codigo: "L", nivel: 7, cor: "vermelha" },
                "B1": { animal: "", codigo: "", nivel: 0, cor: "" },
                "C1": { animal: "", codigo: "", nivel: 0, cor: "" },
                "D1": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E1": { animal: "", codigo: "", nivel: 0, cor: "" },
                "F1": { animal: "", codigo: "", nivel: 0, cor: "" },
                "G1": { animal: "tigre", codigo: "T", nivel: 6, cor: "vermelha" },
                
                "A2": { animal: "", codigo: "", nivel: 0, cor: "" },
                "B2": { animal: "lobo", codigo: "L", nivel: 4, cor: "vermelha" },
                "C2": { animal: "", codigo: "", nivel: 0, cor: "" },
                "D2": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E2": { animal: "", codigo: "", nivel: 0, cor: "" },
                "F2": { animal: "gato", codigo: "G", nivel: 2, cor: "vermelha" },
                "G2": { animal: "", codigo: "", nivel: 0, cor: "" },
                
                "A3": { animal: "rato", codigo: "R", nivel: 1, cor: "vermelha" },
                "B3": { animal: "", codigo: "", nivel: 0, cor: "" },
                "C3": { animal: "onca", codigo: "O", nivel: 5, cor: "vermelha" },
                "D3": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E3": { animal: "cachorro", codigo: "C", nivel: 3, cor: "vermelha" },
                "F3": { animal: "", codigo: "", nivel: 0, cor: "" },
                "G3": { animal: "elefante", codigo: "E", nivel: 8, cor: "vermelha" },
                
                "A4": { animal: "", codigo: "", nivel: 0, cor: "" },
                "B4": { animal: "", codigo: "", nivel: 0, cor: "" },
                "C4": { animal: "", codigo: "", nivel: 0, cor: "" },
                "D4": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E4": { animal: "", codigo: "", nivel: 0, cor: "" },
                "F4": { animal: "", codigo: "", nivel: 0, cor: "" },
                "G4": { animal: "", codigo: "", nivel: 0, cor: "" },
                
                "A5": { animal: "", codigo: "", nivel: 0, cor: "" },
                "B5": { animal: "", codigo: "", nivel: 0, cor: "" },
                "C5": { animal: "", codigo: "", nivel: 0, cor: "" },
                "D5": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E5": { animal: "", codigo: "", nivel: 0, cor: "" },
                "F5": { animal: "", codigo: "", nivel: 0, cor: "" },
                "G5": { animal: "", codigo: "", nivel: 0, cor: "" },
                
                "A6": { animal: "", codigo: "", nivel: 0, cor: "" },
                "B6": { animal: "", codigo: "", nivel: 0, cor: "" },
                "C6": { animal: "", codigo: "", nivel: 0, cor: "" },
                "D6": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E6": { animal: "", codigo: "", nivel: 0, cor: "" },
                "F6": { animal: "", codigo: "", nivel: 0, cor: "" },
                "G6": { animal: "", codigo: "", nivel: 0, cor: "" },            
                
                "A7": { animal: "elefante", codigo: "E", nivel: 8, cor: "azul" },
                "B7": { animal: "", codigo: "", nivel: 0, cor: "" },
                "C7": { animal: "cachorro", codigo: "C", nivel: 3, cor: "azul" },
                "D7": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E7": { animal: "onca", codigo: "O", nivel: 5, cor: "azul" },
                "F7": { animal: "", codigo: "", nivel: 0, cor: "" },
                "G7": { animal: "rato", codigo: "R", nivel: 1, cor: "azul" },
                
                "A8": { animal: "", codigo: "", nivel: 0, cor: "" },
                "B8": { animal: "gato", codigo: "G", nivel: 2, cor: "azul" },
                "C8": { animal: "", codigo: "", nivel: 0, cor: "" },
                "D8": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E8": { animal: "", codigo: "", nivel: 0, cor: "" },
                "F8": { animal: "lobo", codigo: "L", nivel: 4, cor: "azul" },
                "G8": { animal: "", codigo: "", nivel: 0, cor: "" },
                
                "A9": { animal: "tigre", codigo: "T", nivel: 6, cor: "azul" },
                "B9": { animal: "", codigo: "", nivel: 0, cor: "" },
                "C9": { animal: "", codigo: "", nivel: 0, cor: "" },
                "D9": { animal: "", codigo: "", nivel: 0, cor: "" },
                "E9": { animal: "", codigo: "", nivel: 0, cor: "" },
                "F9": { animal: "", codigo: "", nivel: 0, cor: "" },
                "G9": { animal: "leao", codigo: "L", nivel: 7, cor: "azul" },
            }
            
            const renderizarTabuleiro = () => {
                for (let posicao in posicoesIniciais) {
                    const info = posicoesIniciais[posicao];
                    const quadranteInicial = document.getElementById(posicao);
                    
                    quadranteInicial.innerHTML = info.codigo ? `<div class="peca ${info.cor}">${info.codigo}</div>` : "";
                }
            };
            
            renderizarTabuleiro();

            const checkQuadrante = document.querySelectorAll('.quadrante');

            for (let i = 0; i < checkQuadrante.length; i++){
                checkQuadrante[i].addEventListener('click', () => {
                    const quadranteSelecionado = checkQuadrante[i].id;
                    jogada(quadranteSelecionado);
                })
            }

           

            const jogada = (casa) => {

              
                
                if (clickCheck === 0){
                    
                    clickDe = casa;
                    if (posicoesIniciais[clickDe].animal === ""){
                       console.log('clickDe:', clickDe, typeof clickDe);
                       console.log('clickPara:', clickPara, typeof clickPara);
                       console.log('posicoesIniciais[clickDe]:', posicoesIniciais[clickDe], typeof posicoesIniciais[clickDe]);
                       clickDe = "XX";
                       clickPara = "YY";
                       clickCheck = 0;
                       return;
                   }
                    clickCheck++;
                }
                else if (clickCheck === 1){
                    clickPara = casa;
                    
                    if (clickDe === clickPara){
                        clickDe = "XX";
                        clickPara = "YY";
                        clickCheck = 0;
                        return;
                    }

                    clickCheck--;

                    posicoesIniciais[clickPara] = posicoesIniciais[clickDe];
                    posicoesIniciais[clickDe] = {animal: '', codigo: '', nivel: 0, cor: ''};
                }
                renderizarTabuleiro();
            };
        </script>
    </body>
</html>